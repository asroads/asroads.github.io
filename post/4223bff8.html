<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    
    <meta name="referrer" content="no-referrer-when-downgrade">
    
    <meta name="renderer" content="webkit"/>
    <meta name="force-rendering" content="webkit"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <script>if (/*@cc_on!@*/false || (!!window.MSInputMethodContext && !!document.documentMode)) window.location.href="https://support.dmeng.net/upgrade-your-browser.html?referrer="+encodeURIComponent(window.location.href); </script>
    
    
        <link rel="preload" crossorigin="crossorigin" href="/fonts/roboto/Roboto-Regular.woff2" as="font">
        <link rel="preload" crossorigin="crossorigin" href="/fonts/roboto/Roboto-Bold.woff2" as="font">
    
    
    
        <link rel="shortcut icon" href="/icons/favicon.ico">
    

    
    
        
<link rel="stylesheet" href="/css/mdui.min.v1.0.0.css">

    
    
<link rel="stylesheet" href="/css/main.css">
<link rel="stylesheet" href="/css/iconfont.css">


    
    












          


    
    
    <title>
        
            介绍一个不错的debug调试工具 | Asroads&#39;Blog
        
    </title>
    
    
<meta name="generator" content="Hexo 7.0.0"><link rel="alternate" href="/atom.xml" title="Asroads'Blog" type="application/atom+xml">
</head>
<body class="mdui-drawer-body-left mdui-appbar-with-toolbar mdui-theme-primary-teal mdui-theme-accent-blue">
  
  <header class="mdui-appbar mdui-appbar-fixed">
  <div id="toolbar" class="mdui-toolbar mdui-color-theme">
    <button class="mdui-btn mdui-btn-icon" mdui-drawer="{target: '#sidebar', swipe: true}"><i class="iconfont icon-menu"></i></button>
    <a href="/" class="mdui-typo-headline">Asroads&#39;Blog</a>
    <a href="/" class="header-subtitle mdui-typo-headline">君子不器</a>
    <div class="mdui-toolbar-spacer"></div>
    <button class="mdui-btn mdui-btn-icon" mdui-dialog="{target: '#search'}" mdui-tooltip="{content: 'search'}"><i class="iconfont icon-search"></i></button>
  </div>
</header>

<div class="mdui-dialog" id="search">
  
    <div class="search-form">
      <input type="search" class="search-form-input" placeholder="请输入关键字" onfocus="listenSearchFunc()">
    </div>
    <div class="search-result" data-resource="/search.xml"></div>
  
</div>

  <aside id="sidebar" class="mdui-drawer">
    <div class="mdui-tab" mdui-tab>
        <a href="#sidebar-tab1" id="sidebartab" class="mdui-ripple mdui-tab-active">站点概览</a>
        <a href="#sidebar-tab2" id="sidebartab" class="mdui-ripple">关于</a>
    </div>

    
    <div id="sidebar-tab1" class="mdui-p-a-1">
        <div class="mdui-list">
            
                
                <a href="/" class="mdui-list-item mdui-ripple">
                    <div class="mdui-list-item-icon">
                        <i class="iconfont icon-home"></i>
                    </div>
                    <div class="mdui-list-item-content">首页</div>
                </a>
            
                
                <a href="/categories/game" class="mdui-list-item mdui-ripple">
                    <div class="mdui-list-item-icon">
                        <i class="iconfont icon-folder"></i>
                    </div>
                    <div class="mdui-list-item-content">手游</div>
                </a>
            
                
                <a href="/categories/tool/" class="mdui-list-item mdui-ripple">
                    <div class="mdui-list-item-icon">
                        <i class="iconfont icon-tools"></i>
                    </div>
                    <div class="mdui-list-item-content">技术</div>
                </a>
            
                
                <a href="/categories/other" class="mdui-list-item mdui-ripple">
                    <div class="mdui-list-item-icon">
                        <i class="iconfont icon-gallery"></i>
                    </div>
                    <div class="mdui-list-item-content">杂项</div>
                </a>
            
                
                <a href="/categories/life" class="mdui-list-item mdui-ripple">
                    <div class="mdui-list-item-icon">
                        <i class="iconfont icon-blog"></i>
                    </div>
                    <div class="mdui-list-item-content">感悟</div>
                </a>
            
                
                <a href="/tags/" class="mdui-list-item mdui-ripple">
                    <div class="mdui-list-item-icon">
                        <i class="iconfont icon-bookmark"></i>
                    </div>
                    <div class="mdui-list-item-content">标签</div>
                </a>
            
                
                <a href="/archives/" class="mdui-list-item mdui-ripple">
                    <div class="mdui-list-item-icon">
                        <i class="iconfont icon-archive"></i>
                    </div>
                    <div class="mdui-list-item-content">归档</div>
                </a>
            
                
                <a href="/about/" class="mdui-list-item mdui-ripple">
                    <div class="mdui-list-item-icon">
                        <i class="iconfont icon-user"></i>
                    </div>
                    <div class="mdui-list-item-content">关于</div>
                </a>
            
            <div class="mdui-list-item mdui-ripple">
                <div class="mdui-list-item-icon">
                    <i class="iconfont icon-moon"></i>
                </div>
                <div class="mdui-list-item-content">夜间模式</div>
                <label class="mdui-switch" id="darkmode">
                  <input type="checkbox" id="nightmode_switch"/>
                  <i class="mdui-switch-icon"></i>
                </label>
            </div>           
        </div>
    </div>

    
    <div id="sidebar-tab2" class="mdui-p-a-1">
        <div class="sidebar-overview">
            <div class="sidebar-avatar">
                
                    <img src="/icons/avatar.png"/>
                
            </div>
            <div class="sidebar-author-name">asroads</div>
            <div class="sidebar-description">自信是成功第一法宝</div>
        </div>
        <div class="sidebar-links">
            
                
                <div class="mdui-chip">
                    <span class="mdui-chip-icon"><i class="iconfont icon-mail"></i></span>
                    <a href="/jsroads@163.com" class="mdui-chip-title">E-Mail</a>
                </div>
            
                
                <div class="mdui-chip">
                    <span class="mdui-chip-icon"><i class="iconfont icon-github"></i></span>
                    <a target="_blank" rel="noopener" href="https://github.com/jsroads" class="mdui-chip-title">jsroads</a>
                </div>
            
                
                <div class="mdui-chip">
                    <span class="mdui-chip-icon"><i class="iconfont icon-github"></i></span>
                    <a target="_blank" rel="noopener" href="https://github.com/asroads" class="mdui-chip-title">asroads</a>
                </div>
            
                
                <div class="mdui-chip">
                    <span class="mdui-chip-icon"><i class="iconfont icon-qq"></i></span>
                    <a target="_blank" rel="noopener" href="https://jq.qq.com/?_wv=1027&k=fTVxmSSA" class="mdui-chip-title">QQ群</a>
                </div>
            
        </div>
        <ul class="mdui-list" mdui-collapse="{accordion: true}">
            <li class="mdui-collapse-item">
                <div class="mdui-collapse-item-header mdui-list-item mdui-ripple">
                    <div class="mdui-list-item-icon">
                        <i class="iconfont icon-link"></i>
                    </div>
                    <div class="mdui-list-item-content">友情链接</div>
                    <div class="mdui-collapse-item-arrow">
                        <i class="mdui-list-item-icon iconfont icon-angle-down"></i>
                    </div>
                </div>
                <ul id="linksList" class="mdui-collapse-item-body mdui-list mdui-list-dense">
                    
                        <a target="_blank" rel="noopener" href="https://seazhang.github.io/" class="mdui-list-item mdui-ripple">
                            麦田守望者
                        </a>
                    
                        <a target="_blank" rel="noopener" href="https://zhaoyabo.github.io/" class="mdui-list-item mdui-ripple">
                            YABO的博客
                        </a>
                    
                        <a target="_blank" rel="noopener" href="https://dreamheavenyang.github.io/" class="mdui-list-item mdui-ripple">
                            DreamHeaven
                        </a>
                    
                </ul>
            </li>
        </ul>
    </div>

    <div class="mdui-divider"></div>
    
    
</aside>
  
  <main id="main-contain" class="mdui-container mdui-m-t-5">
    <article id="article" class="mdui-card mdui-p-b-2 mdui-m-b-5">
  <header class="mdui-card-media">
    
    
      <div class="post-header"> 
  <a class="post-header-title" href="/post/4223bff8.html">介绍一个不错的debug调试工具</a>
  <div class="post-header-meta">
    <span>
      <span class="iconfont icon-calendar"></span>
      发布于:&nbsp;2024-06-26
    </span>
    <span>
      <span class="iconfont icon-calendar-check"></span>
      更新于:&nbsp;2025-04-22
    </span>
    <span>
      <span class="iconfont icon-folder"></span>
      分类于:&nbsp;<a class="category-link" href="/categories/tool/">tool</a>
    </span>
    
      <span>
        <span class="iconfont icon-eye"></span>
        阅读次数:&nbsp;
        <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv"></span></span>
      </span>
    
  </div>
</div>   
    



    
    
    <div class="mdui-card-menu">
    
      <button class="mdui-btn mdui-btn-icon mdui-text-color-teal" mdui-menu="{target: '#share_menu', align: 'right'}"><i class="iconfont icon-share"></i></button>
      <ul class="mdui-menu" id="share_menu">
        <li class="mdui-menu-item">
          <a href="http://service.weibo.com/share/share.php?appkey=&title=介绍一个不错的debug调试工具&url=http://blog.asroads.com/post/4223bff8.html&pic=http://blog.asroads.com/icons/favicon.ico&searchPic=false&style=simple" target="_blank" class="mdui-ripple">分享到 Weibo</a>
        </li>
        <li class="mdui-menu-item">
          <a href="https://twitter.com/intent/tweet?text=介绍一个不错的debug调试工具&url=http://blog.asroads.com/post/4223bff8.html&via=asroads" target="_blank" class="mdui-ripple">分享到 Twitter</a>
        </li>
        <li class="mdui-menu-item">
          <a href="https://www.facebook.com/sharer/sharer.php?u=http://blog.asroads.com/post/4223bff8.html" target="_blank" class="mdui-ripple">分享到 Facebook</a>
        </li>
        <li class="mdui-menu-item">
          <a href="https://plus.google.com/share?url=http://blog.asroads.com/post/4223bff8.html" target="_blank" class="mdui-ripple">分享到 Google+</a>
        </li>
        <li class="mdui-menu-item">
          <a href="https://www.linkedin.com/shareArticle?mini=true&url=http://blog.asroads.com/post/4223bff8.html&title=介绍一个不错的debug调试工具" target="_blank" class="mdui-ripple">分享到 LinkedIn</a>
        </li>
        <li class="mdui-menu-item">
          <a href="http://connect.qq.com/widget/shareqq/index.html?site=Asroads&#39;Blog&title=介绍一个不错的debug调试工具&summary=自信是成功第一法宝&pics=http://blog.asroads.com/icons/favicon.ico&url=http://blog.asroads.com/post/4223bff8.html" target="_blank" class="mdui-ripple">分享到 QQ</a>
        </li>
        <li class="mdui-menu-item">
          <a href="https://telegram.me/share/url?url=http://blog.asroads.com/post/4223bff8.html&text=介绍一个不错的debug调试工具" target="_blank" class="mdui-ripple">分享到 Telegram</a>
        </li>
      </ul>
    
  </div>
  </header>
  
  
  
  
  <div class="post-tags">
    
      <i class="iconfont icon-tag">
        <a rel="tag" href = /tags/Cocos/ >Cocos</a>
      </i>
    
      <i class="iconfont icon-tag">
        <a rel="tag" href = /tags/js/ >js</a>
      </i>
    
  </div>

  
  <div class="mdui-card-content mdui-typo mdui-p-x-4">
    <p><code>debug</code> 库是一个用于调试 <code>node.js</code> 和浏览器端 <code>JavaScript</code> 应用程序的工具，它允许你通过命名空间管理和显示调试信息目前 <code>debug</code> 的最新版本是 4.3.5，发布于 2024 年 5 月 31 日。</p>
<span id="more"></span>

<p>先看看效果：</p>
<p><img src="/post/4223bff8/show.png" alt="img"></p>
<h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/vercel/ms">ms</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/debug-js/debug">debug</a></li>
</ul>
<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install debug</span><br></pre></td></tr></table></figure>

<p>安装声明文件 <a target="_blank" rel="noopener" href="https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/debug">debug.d.ts</a></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save @types/debug</span><br></pre></td></tr></table></figure>

<p><strong>引入库</strong></p>
<p>在你的 JavaScript 文件中引入 <code>debug</code> 库：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> debug = <span class="built_in">require</span>(<span class="string">&#x27;debug&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p><strong>创建命名空间</strong></p>
<p>使用 <code>debug</code> 创建一个命名空间。这有助于你分类和过滤调试信息：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> log = <span class="title function_">debug</span>(<span class="string">&#x27;myapp:log&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> error = <span class="title function_">debug</span>(<span class="string">&#x27;myapp:error&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p><strong>输出调试信息</strong></p>
<p>使用命名空间输出调试信息：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">log</span>(<span class="string">&#x27;This is a log message&#x27;</span>);</span><br><span class="line"><span class="title function_">error</span>(<span class="string">&#x27;This is an error message&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p><code>debug.d.ts</code></p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="keyword">var</span> <span class="attr">debug</span>: debug.<span class="property">Debug</span> &amp; &#123; <span class="attr">debug</span>: debug.<span class="property">Debug</span>; <span class="attr">default</span>: debug.<span class="property">Debug</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> = debug;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">as</span> <span class="keyword">namespace</span> debug;</span><br><span class="line"></span><br><span class="line">declare <span class="keyword">namespace</span> debug &#123;</span><br><span class="line">    <span class="keyword">interface</span> <span class="title class_">Debug</span> &#123;</span><br><span class="line">        (<span class="attr">namespace</span>: <span class="built_in">string</span>): <span class="title class_">Debugger</span>;</span><br><span class="line">        <span class="attr">coerce</span>: <span class="function">(<span class="params">val: <span class="built_in">any</span></span>) =&gt;</span> <span class="built_in">any</span>;</span><br><span class="line">        <span class="attr">disable</span>: <span class="function">() =&gt;</span> <span class="built_in">string</span>;</span><br><span class="line">        <span class="attr">enable</span>: <span class="function">(<span class="params">namespaces: <span class="built_in">string</span></span>) =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line">        <span class="attr">enabled</span>: <span class="function">(<span class="params">namespaces: <span class="built_in">string</span></span>) =&gt;</span> <span class="built_in">boolean</span>;</span><br><span class="line">        <span class="attr">formatArgs</span>: <span class="function">(<span class="params"><span class="variable language_">this</span>: Debugger, args: <span class="built_in">any</span>[]</span>) =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line">        <span class="attr">log</span>: <span class="function">(<span class="params">...args: <span class="built_in">any</span>[]</span>) =&gt;</span> <span class="built_in">any</span>;</span><br><span class="line">        <span class="attr">selectColor</span>: <span class="function">(<span class="params"><span class="keyword">namespace</span>: <span class="built_in">string</span></span>) =&gt;</span> <span class="built_in">string</span> | <span class="built_in">number</span>;</span><br><span class="line">        <span class="attr">humanize</span>: <span class="keyword">typeof</span> <span class="keyword">import</span>(<span class="string">&quot;ms&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="attr">names</span>: <span class="title class_">RegExp</span>[];</span><br><span class="line">        <span class="attr">skips</span>: <span class="title class_">RegExp</span>[];</span><br><span class="line"></span><br><span class="line">        <span class="attr">formatters</span>: <span class="title class_">Formatters</span>;</span><br><span class="line"></span><br><span class="line">        inspectOpts?: &#123;</span><br><span class="line">            hideDate?: <span class="built_in">boolean</span> | <span class="built_in">number</span> | <span class="literal">null</span>;</span><br><span class="line">            colors?: <span class="built_in">boolean</span> | <span class="built_in">number</span> | <span class="literal">null</span>;</span><br><span class="line">            depth?: <span class="built_in">boolean</span> | <span class="built_in">number</span> | <span class="literal">null</span>;</span><br><span class="line">            showHidden?: <span class="built_in">boolean</span> | <span class="built_in">number</span> | <span class="literal">null</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">type</span> <span class="title class_">IDebug</span> = <span class="title class_">Debug</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">interface</span> <span class="title class_">Formatters</span> &#123;</span><br><span class="line">        [<span class="attr">formatter</span>: <span class="built_in">string</span>]: <span class="function">(<span class="params">v: <span class="built_in">any</span></span>) =&gt;</span> <span class="built_in">string</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">type</span> <span class="title class_">IDebugger</span> = <span class="title class_">Debugger</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">interface</span> <span class="title class_">Debugger</span> &#123;</span><br><span class="line">        (<span class="attr">formatter</span>: <span class="built_in">any</span>, ...<span class="attr">args</span>: <span class="built_in">any</span>[]): <span class="built_in">void</span>;</span><br><span class="line"></span><br><span class="line">        <span class="attr">color</span>: <span class="built_in">string</span>;</span><br><span class="line">        <span class="attr">diff</span>: <span class="built_in">number</span>;</span><br><span class="line">        <span class="attr">enabled</span>: <span class="built_in">boolean</span>;</span><br><span class="line">        <span class="attr">log</span>: <span class="function">(<span class="params">...args: <span class="built_in">any</span>[]</span>) =&gt;</span> <span class="built_in">any</span>;</span><br><span class="line">        <span class="attr">namespace</span>: <span class="built_in">string</span>;</span><br><span class="line">        <span class="attr">destroy</span>: <span class="function">() =&gt;</span> <span class="built_in">boolean</span>;</span><br><span class="line">        <span class="attr">extend</span>: <span class="function">(<span class="params"><span class="keyword">namespace</span>: <span class="built_in">string</span>, delimiter?: <span class="built_in">string</span></span>) =&gt;</span> <span class="title class_">Debugger</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>ms.d.ts</code></p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Short/Long format for `value`.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">Number</span>&#125; <span class="variable">value</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">&#123;long: boolean</span>&#125;&#125; options</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">String</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">function</span> <span class="title function_">ms</span>(<span class="params">value: <span class="built_in">number</span>, options?: &#123; long: <span class="built_in">boolean</span> &#125;</span>): <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Parse the given `value` and return milliseconds.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">String</span>&#125; <span class="variable">value</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">Number</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">function</span> <span class="title function_">ms</span>(<span class="params">value: <span class="built_in">string</span></span>): <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> = ms;</span><br></pre></td></tr></table></figure>

<h3 id="使用CDN-服务提供商文件"><a href="#使用CDN-服务提供商文件" class="headerlink" title="使用CDN 服务提供商文件"></a>使用CDN 服务提供商文件</h3><p><a target="_blank" rel="noopener" href="https://www.jsdelivr.com/">jsDelivr</a> 是一个快速的开源 CDN，可以托管各种 <code>JavaScript</code> 库。</p>
<p>要找到 <code>debug</code> 库的 URL，可以按照以下步骤进行：</p>
<ul>
<li>访问 <a target="_blank" rel="noopener" href="https://www.jsdelivr.com/">jsDelivr</a> 网站。</li>
<li>在搜索框中输入 <code>debug</code> 并搜索。</li>
<li>选择你需要的版本并复制相应的 URL。例如：<code>https://cdn.jsdelivr.net/npm/debug/dist/debug.js</code></li>
</ul>
<p>地址：<a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/npm/debug@4.3.5/">https://cdn.jsdelivr.net/npm/debug@4.3.5/</a></p>
<p><img src="/post/4223bff8/image-20240626165802574.png" alt="image-20240626165802574"></p>
<p><img src="/post/4223bff8/image-20240626165812720.png" alt="image-20240626165812720"></p>
<h2 id="测试例子"><a href="#测试例子" class="headerlink" title="测试例子"></a>测试例子</h2><p>浏览器环境使用，这里写一个<code>web</code>版本 ，<code>node.js</code>版本</p>
<h3 id="web-版本"><a href="#web-版本" class="headerlink" title="web 版本"></a>web 版本</h3><p><strong>引入库</strong></p>
<p>可以通过 <code>&lt;script&gt;</code> 标签引入 <code>debug</code> 库：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;path/to/debug.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>使用命名空间</strong></p>
<p>和 Node.js 中一样，你可以创建命名空间并输出调试信息：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> log = <span class="title function_">debug</span>(<span class="string">&#x27;myapp:log&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> error = <span class="title function_">debug</span>(<span class="string">&#x27;myapp:error&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="title function_">log</span>(<span class="string">&#x27;This is a log message&#x27;</span>);</span><br><span class="line"><span class="title function_">error</span>(<span class="string">&#x27;This is an error message&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p><strong>启用调试</strong></p>
<p>在浏览器的控制台中设置 <code>localStorage</code> 来启用调试：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;debug&#x27;</span>, <span class="string">&#x27;myapp:*&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>然后刷新页面，调试信息就会在控制台中显示。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Debug Demo<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/debug/dist/debug.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 启用调试</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;debug&#x27;</span>, <span class="string">&#x27;myapp:*&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 创建命名空间</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> log = <span class="title function_">debug</span>(<span class="string">&#x27;myapp:log&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> error = <span class="title function_">debug</span>(<span class="string">&#x27;myapp:error&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 输出调试信息</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">log</span>(<span class="string">&#x27;This is a log message&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">error</span>(<span class="string">&#x27;This is an error message&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>显示效果：</p>
<p><img src="/post/4223bff8/image-20240626170444413.png" alt="image-20240626170444413"></p>
<p>以下是一个完整的示例，展示如何在 <code>Node.js</code> 应用程序中使用 <code>debug</code> 库：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 引入 debug 库</span></span><br><span class="line"><span class="keyword">const</span> debug = <span class="built_in">require</span>(<span class="string">&#x27;debug&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建命名空间</span></span><br><span class="line"><span class="keyword">const</span> log = <span class="title function_">debug</span>(<span class="string">&#x27;myapp:log&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> error = <span class="title function_">debug</span>(<span class="string">&#x27;myapp:error&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 启用调试</span></span><br><span class="line">debug.<span class="title function_">enable</span>(<span class="string">&#x27;myapp:*&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出调试信息</span></span><br><span class="line"><span class="title function_">log</span>(<span class="string">&#x27;This is a log message&#x27;</span>);</span><br><span class="line"><span class="title function_">error</span>(<span class="string">&#x27;This is an error message&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 你可以在应用程序的其他地方继续使用这些命名空间</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">someFunction</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title function_">log</span>(<span class="string">&#x27;someFunction was called&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">someFunction</span>();</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>在运行这个示例时，你会在控制台看到类似如下的输出：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">myapp:log This is a log message +0ms</span><br><span class="line">myapp:error This is an error message +1ms</span><br><span class="line">myapp:log someFunction was called +0ms</span><br></pre></td></tr></table></figure>

<h2 id="使用-Webpack编译Typescript例子"><a href="#使用-Webpack编译Typescript例子" class="headerlink" title="使用 Webpack编译Typescript例子"></a>使用 Webpack编译Typescript例子</h2><p><code>debug</code> 库支持 TypeScript 和 <code>import</code> 语法。你可以在 TypeScript 项目中使用它，并获得类型检查和代码补全等好处。以下是如何在 TypeScript 项目中使用 <code>debug</code> 库的步骤：</p>
<p>是的，<code>debug</code> 库支持 TypeScript 和 <code>import</code> 语法。你可以在 TypeScript 项目中使用它，并获得类型检查和代码补全等好处。以下是如何在 <code>TypeScript</code> 项目中使用 <code>debug</code> 库的步骤：</p>
<h4 id="1-安装-debug-和类型定义"><a href="#1-安装-debug-和类型定义" class="headerlink" title="1. 安装 debug 和类型定义"></a>1. 安装 <code>debug</code> 和类型定义</h4><p>首先，安装 <code>debug</code> 库和它的类型定义：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install debug</span><br><span class="line">npm install --save-dev @types/debug</span><br></pre></td></tr></table></figure>

<h4 id="2-在-TypeScript-文件中导入并使用"><a href="#2-在-TypeScript-文件中导入并使用" class="headerlink" title="2. 在 TypeScript 文件中导入并使用"></a>2. 在 TypeScript 文件中导入并使用</h4><p>在你的 TypeScript 文件中，你可以使用 <code>import</code> 语法导入 <code>debug</code>：</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/index.ts</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> debug <span class="keyword">from</span> <span class="string">&#x27;debug&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 启用调试</span></span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;debug&#x27;</span>, <span class="string">&#x27;myapp:*&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建命名空间</span></span><br><span class="line"><span class="keyword">const</span> log = <span class="title function_">debug</span>(<span class="string">&#x27;myapp:log&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> error = <span class="title function_">debug</span>(<span class="string">&#x27;myapp:error&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出调试信息</span></span><br><span class="line"><span class="title function_">log</span>(<span class="string">&#x27;This is a log message&#x27;</span>);</span><br><span class="line"><span class="title function_">error</span>(<span class="string">&#x27;This is an error message&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h4 id="3-配置-TypeScript-编译器"><a href="#3-配置-TypeScript-编译器" class="headerlink" title="3. 配置 TypeScript 编译器"></a>3. 配置 TypeScript 编译器</h4><p>确保你的 <code>tsconfig.json</code> 配置文件正确设置，以便 TypeScript 能正确编译你的代码：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;target&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ES5&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;module&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ESNext&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;strict&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;esModuleInterop&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;skipLibCheck&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;forceConsistentCasingInFileNames&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;outDir&quot;</span><span class="punctuation">:</span> <span class="string">&quot;./dist&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;include&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;src/**/*&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;exclude&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;node_modules&quot;</span><span class="punctuation">,</span> <span class="string">&quot;**/*.spec.ts&quot;</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<h4 id="4-使用-Webpack-或其他构建工具打包"><a href="#4-使用-Webpack-或其他构建工具打包" class="headerlink" title="4. 使用 Webpack 或其他构建工具打包"></a>4. 使用 Webpack 或其他构建工具打包</h4><p>如果使用 Webpack 或其他构建工具来打包你的 TypeScript 代码，确保它们正确配置以处理 TypeScript 文件。</p>
<h4 id="Webpack-示例配置"><a href="#Webpack-示例配置" class="headerlink" title="Webpack 示例配置"></a>Webpack 示例配置</h4><ol>
<li><p>安装 Webpack 和相关依赖：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev webpack webpack-cli ts-loader</span><br></pre></td></tr></table></figure></li>
<li><p>创建 Webpack 配置文件 <code>webpack.config.js</code>：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">entry</span>: <span class="string">&#x27;./src/index.ts&#x27;</span>,</span><br><span class="line">    <span class="attr">module</span>: &#123;</span><br><span class="line">        <span class="attr">rules</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">test</span>: <span class="regexp">/\.ts$/</span>,</span><br><span class="line">                <span class="attr">use</span>: <span class="string">&#x27;ts-loader&#x27;</span>,</span><br><span class="line">                <span class="attr">exclude</span>: <span class="regexp">/node_modules/</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">resolve</span>: &#123;</span><br><span class="line">        <span class="attr">extensions</span>: [<span class="string">&#x27;.ts&#x27;</span>, <span class="string">&#x27;.js&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">output</span>: &#123;</span><br><span class="line">        <span class="attr">filename</span>: <span class="string">&#x27;bundle.js&#x27;</span>,</span><br><span class="line">        <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;dist&#x27;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">mode</span>: <span class="string">&#x27;development&#x27;</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li>
<li><p>创建 TypeScript 配置文件 <code>tsconfig.json</code>（如果还没有）：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;target&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ES5&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;module&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ESNext&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;strict&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;esModuleInterop&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;skipLibCheck&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;forceConsistentCasingInFileNames&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;outDir&quot;</span><span class="punctuation">:</span> <span class="string">&quot;./dist&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;include&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;src/**/*&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;exclude&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;node_modules&quot;</span><span class="punctuation">,</span> <span class="string">&quot;**/*.spec.ts&quot;</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li>
<li><p>在 <code>src/index.ts</code> 中编写代码（如上所示）。</p>
</li>
<li><p>运行 Webpack 构建：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx webpack</span><br></pre></td></tr></table></figure></li>
<li><p>在 HTML 文件中引入打包后的文件：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Debug Demo<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 启用调试</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;debug&#x27;</span>, <span class="string">&#x27;myapp:*&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./dist/bundle.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<p>通过这些步骤，你可以在 TypeScript 项目中使用 <code>debug</code> 库。</p>
<h2 id="如何在Cocos-Creator项目使用"><a href="#如何在Cocos-Creator项目使用" class="headerlink" title="如何在Cocos Creator项目使用"></a>如何在Cocos Creator项目使用</h2><h3 id="CocosCreator例子"><a href="#CocosCreator例子" class="headerlink" title="CocosCreator例子"></a>CocosCreator例子</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> debug  <span class="keyword">from</span> <span class="string">&#x27;./libs/debugmin/debug&#x27;</span>;</span><br><span class="line"><span class="comment">// 创建命名空间</span></span><br><span class="line"><span class="keyword">const</span> log = <span class="title function_">debug</span>(<span class="string">&#x27;myapp:log&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> error = <span class="title function_">debug</span>(<span class="string">&#x27;myapp:error&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> dc = <span class="title function_">debug</span>(<span class="string">&#x27;myapp:dc&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> &#123; ccclass, property &#125; = cc.<span class="property">_decorator</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@ccclass</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> <span class="title class_">HelloTest</span> <span class="keyword">extends</span> <span class="title class_ inherited__">cc.Component</span> &#123;</span><br><span class="line">    <span class="keyword">protected</span> <span class="title function_">onLoad</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// // 启用调试</span></span><br><span class="line">        <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;debug&#x27;</span>, <span class="string">&#x27;*&#x27;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// localStorage.setItem(&#x27;debug&#x27;, &#x27;myapp:*&#x27;);</span></span><br><span class="line">        <span class="comment">// 检查 localStorage 是否正确设置</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;localStorage debug setting:&#x27;</span>, <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;debug&#x27;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// // 创建命名空间</span></span><br><span class="line">        <span class="comment">// const log = debug(&#x27;myapp:log&#x27;);</span></span><br><span class="line">        <span class="comment">// const error = debug(&#x27;myapp:error&#x27;);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 输出调试信息</span></span><br><span class="line">        <span class="title function_">log</span>(<span class="string">&#x27;This is a log message&#x27;</span>);</span><br><span class="line">        <span class="title function_">error</span>(<span class="string">&#x27;This is an error message&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> <span class="title function_">start</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">onTouchSubStart</span>();</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">onTouchAddStart</span>();</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">onTouchSubEnd</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">onTouchSubStart</span>(<span class="params">event?: cc.Event.EventTouch</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;onTouchSubStart&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">onTouchSubEnd</span>(<span class="params">event?: cc.Event.EventTouch</span>) &#123;</span><br><span class="line">        <span class="title function_">log</span>(<span class="string">&quot;onTouchSubEnd&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">onTouchAddStart</span>(<span class="params">event?: cc.Event.EventTouch</span>) &#123;</span><br><span class="line">        <span class="title function_">dc</span>(<span class="string">&quot;onTouchAddStart&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p> 展示效果：</p>
<p><img src="/post/4223bff8/image-20240626171052636.png" alt="image-20240626171052636"></p>
<h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><h4 id="启用调试"><a href="#启用调试" class="headerlink" title="启用调试"></a>启用调试</h4><p>具体来说：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;debug&#x27;</span>, <span class="string">&#x27;myapp:*&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p><code>localStorage</code> 方法接受两个参数：第一个是键名，第二个是要存储的值。</p>
<p>在这个例子中：</p>
<ul>
<li><strong>键名</strong>: <code>&#39;debug&#39;</code> 这个键名是 <code>debug</code> 库用来读取调试设置的。</li>
<li><strong>值</strong>: <code>&#39;myapp:*&#39;</code> 这个值指定了哪些命名空间的日志信息应该显示。</li>
</ul>
<p><code>&#39;myapp:*&#39;</code> 表示所有以 <code>&#39;myapp:&#39;</code> 开头的命名空间都会启用调试输出。<code>*</code> 是一个通配符，表示匹配所有后续字符。例如，如果你有以下命名空间：</p>
<ul>
<li><code>myapp:log</code></li>
<li><code>myapp:error</code></li>
<li><code>myapp:info</code></li>
</ul>
<p>它们都会被启用，显示相应的调试信息。</p>
<p>你可以用不同的方式配置调试输出，例如：</p>
<ul>
<li><code>&#39;myapp:log&#39;</code> 只启用 <code>myapp:log</code> 命名空间的调试信息。</li>
<li><code>&#39;myapp:error,myapp:info&#39;</code> 启用 <code>myapp:error</code> 和 <code>myapp:info</code> 命名空间的调试信息。</li>
<li><code>&#39;*&#39;</code> 启用所有命名空间的调试信息。</li>
</ul>
<p>通过设置 <code>localStorage</code> 中的 <code>debug</code> 键，你可以控制在浏览器中哪些调试信息会被显示。<code>debug</code> 库会在启动时检查这个设置，并相应地启用或禁用不同命名空间的日志输出。</p>
<h4 id="日志展示"><a href="#日志展示" class="headerlink" title="日志展示"></a>日志展示</h4><p>展示日志的时候 需要勾选对应的level debug.js 默认使用的是 console.debug 而不是console.log。</p>
<p><img src="/post/4223bff8/image-20240626171153181.png" alt="image-20240626171153181"></p>
<p>源码如下：</p>
<p><img src="/post/4223bff8/image-20240626171449597.png" alt="image-20240626171449597"></p>
<p>如果不想每次都勾选 可以自己修改源码 比如 ：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">exports</span>.<span class="property">log</span> = <span class="variable language_">console</span>.<span class="property">log</span> || <span class="variable language_">console</span>.<span class="property">debug</span> (<span class="function">() =&gt;</span> &#123;&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="拓展功能"><a href="#拓展功能" class="headerlink" title="拓展功能"></a>拓展功能</h2><h3 id="增加函数运行时间的装饰器"><a href="#增加函数运行时间的装饰器" class="headerlink" title="增加函数运行时间的装饰器"></a>增加函数运行时间的装饰器</h3><p>我们合并上面的<code>common.js</code>和<code>browser.js</code> 新名字叫做 <code>debug.js</code> 然后末尾追加下面代码 <a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/npm/debug/dist/debug.js">CDN文件</a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义 logCost 装饰器</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">logCost</span>(<span class="params">target, name, descriptor</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> original = descriptor &amp;&amp; descriptor.<span class="property">value</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> original === <span class="string">&quot;function&quot;</span>) &#123;</span><br><span class="line">        descriptor.<span class="property">value</span> = <span class="keyword">function</span> (<span class="params">...args</span>) &#123;</span><br><span class="line">            <span class="keyword">const</span> start = <span class="keyword">typeof</span> performance !== <span class="string">&#x27;undefined&#x27;</span> ? performance.<span class="title function_">now</span>() : <span class="title class_">Date</span>.<span class="title function_">now</span>();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">const</span> result = original.<span class="title function_">apply</span>(<span class="variable language_">this</span>, args);</span><br><span class="line"></span><br><span class="line">                <span class="comment">// 处理同步方法</span></span><br><span class="line">                <span class="keyword">if</span> (result &amp;&amp; <span class="keyword">typeof</span> result.<span class="property">then</span> === <span class="string">&quot;function&quot;</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> result.<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">                        <span class="keyword">const</span> end = <span class="keyword">typeof</span> performance !== <span class="string">&#x27;undefined&#x27;</span> ? performance.<span class="title function_">now</span>() : <span class="title class_">Date</span>.<span class="title function_">now</span>();</span><br><span class="line">                        <span class="title function_">log</span>(<span class="string">`🥰:<span class="subst">$&#123;name&#125;</span> <span class="subst">$&#123;(end - start).toFixed(<span class="number">2</span>)&#125;</span>ms`</span>);</span><br><span class="line">                        <span class="keyword">return</span> res;</span><br><span class="line">                    &#125;).<span class="title function_">catch</span>(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">                        <span class="keyword">const</span> end = <span class="keyword">typeof</span> performance !== <span class="string">&#x27;undefined&#x27;</span> ? performance.<span class="title function_">now</span>() : <span class="title class_">Date</span>.<span class="title function_">now</span>();</span><br><span class="line">                        <span class="title function_">log</span>(<span class="string">`🥰:<span class="subst">$&#123;name&#125;</span> <span class="subst">$&#123;(end - start).toFixed(<span class="number">2</span>)&#125;</span>ms`</span>);</span><br><span class="line">                        <span class="keyword">throw</span> err;</span><br><span class="line">                    &#125;);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">const</span> end = <span class="keyword">typeof</span> performance !== <span class="string">&#x27;undefined&#x27;</span> ? performance.<span class="title function_">now</span>() : <span class="title class_">Date</span>.<span class="title function_">now</span>();</span><br><span class="line">                    <span class="title function_">log</span>(<span class="string">`🥰:<span class="subst">$&#123;name&#125;</span> <span class="subst">$&#123;(end - start).toFixed(<span class="number">2</span>)&#125;</span>ms`</span>);</span><br><span class="line">                    <span class="keyword">return</span> result;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">                <span class="keyword">const</span> end = <span class="keyword">typeof</span> performance !== <span class="string">&#x27;undefined&#x27;</span> ? performance.<span class="title function_">now</span>() : <span class="title class_">Date</span>.<span class="title function_">now</span>();</span><br><span class="line">                <span class="title function_">log</span>(<span class="string">`🥰:<span class="subst">$&#123;name&#125;</span> <span class="subst">$&#123;(end - start).toFixed(<span class="number">2</span>)&#125;</span>ms`</span>);</span><br><span class="line">                <span class="keyword">throw</span> e;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> descriptor;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 导出 logCost 装饰器</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span>.<span class="property">logCost</span> = logCost;</span><br></pre></td></tr></table></figure>

<p>对应的声明文件</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">MethodDecorator</span> = &lt;T&gt;<span class="function">(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">    target: <span class="built_in">Object</span> | <span class="built_in">Function</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">    propertyKey: <span class="built_in">string</span> | <span class="built_in">symbol</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">    descriptor: TypedPropertyDescriptor&lt;T&gt;</span></span></span><br><span class="line"><span class="params"><span class="function"></span>) =&gt;</span> <span class="title class_">TypedPropertyDescriptor</span>&lt;T&gt; | <span class="built_in">void</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="attr">logCost</span>: <span class="title class_">MethodDecorator</span>; <span class="comment">// Added logCost decorator</span></span><br></pre></td></tr></table></figure>

<h3 id="如何使用"><a href="#如何使用" class="headerlink" title="如何使用"></a>如何使用</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> debug,&#123; logCost &#125;  <span class="keyword">from</span> <span class="string">&#x27;./libs/debugmin/debug&#x27;</span>;</span><br><span class="line"><span class="comment">// 创建命名空间</span></span><br><span class="line"><span class="keyword">const</span> log = <span class="title function_">debug</span>(<span class="string">&#x27;myapp:log&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> &#123;ccclass, property&#125; = cc.<span class="property">_decorator</span>;</span><br><span class="line"><span class="meta">@ccclass</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> <span class="title class_">HelloTest</span> <span class="keyword">extends</span> <span class="title class_ inherited__">cc.Component</span> &#123;</span><br><span class="line">    <span class="keyword">protected</span> <span class="title function_">onLoad</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">// // 启用调试</span></span><br><span class="line">        <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;debug&#x27;</span>, <span class="string">&#x27;*&#x27;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// localStorage.setItem(&#x27;debug&#x27;, &#x27;myapp:*&#x27;);</span></span><br><span class="line">        <span class="comment">// 检查 localStorage 是否正确设置</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;localStorage debug setting:&#x27;</span>, <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;debug&#x27;</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> <span class="title function_">start</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">onTouchSubEnd</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@logCost</span></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">onTouchSubEnd</span>(<span class="params">event?: cc.Event.EventTouch</span>) &#123;</span><br><span class="line">        <span class="title function_">log</span>(<span class="string">&quot;onTouchSubEnd&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="显示效果"><a href="#显示效果" class="headerlink" title="显示效果"></a>显示效果</h3><p><img src="/post/4223bff8/image-20240626172516525.png" alt="image-20240626172516525"></p>
<h3 id="完整代码-debug-js"><a href="#完整代码-debug-js" class="headerlink" title="完整代码 debug.js"></a>完整代码 debug.js</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">setup</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">n</span>(<span class="params">e</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> r, s, o, l = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">function</span> <span class="title function_">a</span>(<span class="params">...e</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!a.<span class="property">enabled</span>) <span class="keyword">return</span>;</span><br><span class="line">            <span class="keyword">const</span> t = a, s = <span class="title class_">Number</span>(<span class="keyword">new</span> <span class="title class_">Date</span>), o = s - (r || s);</span><br><span class="line">            t.<span class="property">diff</span> = o, t.<span class="property">prev</span> = r, t.<span class="property">curr</span> = s, r = s, e[<span class="number">0</span>] = n.<span class="title function_">coerce</span>(e[<span class="number">0</span>]), <span class="string">&quot;string&quot;</span> != <span class="keyword">typeof</span> e[<span class="number">0</span>] &amp;&amp; e.<span class="title function_">unshift</span>(<span class="string">&quot;%O&quot;</span>);</span><br><span class="line">            <span class="keyword">let</span> l = <span class="number">0</span>;</span><br><span class="line">            e[<span class="number">0</span>] = e[<span class="number">0</span>].<span class="title function_">replace</span>(<span class="regexp">/%([a-zA-Z%])/g</span>, (<span class="function">(<span class="params">r, s</span>) =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (<span class="string">&quot;%%&quot;</span> === r) <span class="keyword">return</span> <span class="string">&quot;%&quot;</span>;</span><br><span class="line">                l++;</span><br><span class="line">                <span class="keyword">const</span> o = n.<span class="property">formatters</span>[s];</span><br><span class="line">                <span class="keyword">if</span> (<span class="string">&quot;function&quot;</span> == <span class="keyword">typeof</span> o) &#123;</span><br><span class="line">                    <span class="keyword">const</span> n = e[l];</span><br><span class="line">                    r = o.<span class="title function_">call</span>(t, n), e.<span class="title function_">splice</span>(l, <span class="number">1</span>), l--</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> r</span><br><span class="line">            &#125;)), n.<span class="property">formatArgs</span>.<span class="title function_">call</span>(t, e);</span><br><span class="line">            (t.<span class="property">log</span> || n.<span class="property">log</span>).<span class="title function_">apply</span>(t, e)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> a.<span class="property">namespace</span> = e, a.<span class="property">useColors</span> = n.<span class="title function_">useColors</span>(), a.<span class="property">color</span> = n.<span class="title function_">selectColor</span>(e), a.<span class="property">extend</span> = t, a.<span class="property">destroy</span> = n.<span class="property">destroy</span>, <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(a, <span class="string">&quot;enabled&quot;</span>, &#123;</span><br><span class="line">            <span class="attr">enumerable</span>: !<span class="number">0</span>,</span><br><span class="line">            <span class="attr">configurable</span>: !<span class="number">1</span>,</span><br><span class="line">            <span class="attr">get</span>: <span class="function">() =&gt;</span> <span class="literal">null</span> !== l ? l : (s !== n.<span class="property">namespaces</span> &amp;&amp; (s = n.<span class="property">namespaces</span>, o = n.<span class="title function_">enabled</span>(e)), o),</span><br><span class="line">            <span class="attr">set</span>: <span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">                l = e</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;), <span class="string">&quot;function&quot;</span> == <span class="keyword">typeof</span> n.<span class="property">init</span> &amp;&amp; n.<span class="title function_">init</span>(a), a</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">t</span>(<span class="params">e, t</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> r = <span class="title function_">n</span>(<span class="variable language_">this</span>.<span class="property">namespace</span> + (<span class="keyword">void</span> <span class="number">0</span> === t ? <span class="string">&quot;:&quot;</span> : t) + e);</span><br><span class="line">        <span class="keyword">return</span> r.<span class="property">log</span> = <span class="variable language_">this</span>.<span class="property">log</span>, r</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">r</span>(<span class="params">e</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> e.<span class="title function_">toString</span>().<span class="title function_">substring</span>(<span class="number">2</span>, e.<span class="title function_">toString</span>().<span class="property">length</span> - <span class="number">2</span>).<span class="title function_">replace</span>(<span class="regexp">/\.\*\?$/</span>, <span class="string">&quot;*&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> n.<span class="property">debug</span> = n, n.<span class="property">default</span> = n, n.<span class="property">coerce</span> = <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (e <span class="keyword">instanceof</span> <span class="title class_">Error</span>) <span class="keyword">return</span> e.<span class="property">stack</span> || e.<span class="property">message</span>;</span><br><span class="line">        <span class="keyword">return</span> e</span><br><span class="line">    &#125;, n.<span class="property">disable</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> e = [...n.<span class="property">names</span>.<span class="title function_">map</span>(r), ...n.<span class="property">skips</span>.<span class="title function_">map</span>(r).<span class="title function_">map</span>((<span class="function"><span class="params">e</span> =&gt;</span> <span class="string">&quot;-&quot;</span> + e))].<span class="title function_">join</span>(<span class="string">&quot;,&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> n.<span class="title function_">enable</span>(<span class="string">&quot;&quot;</span>), e</span><br><span class="line">    &#125;, n.<span class="property">enable</span> = <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> t;</span><br><span class="line">        n.<span class="title function_">save</span>(e), n.<span class="property">namespaces</span> = e, n.<span class="property">names</span> = [], n.<span class="property">skips</span> = [];</span><br><span class="line">        <span class="keyword">const</span> r = (<span class="string">&quot;string&quot;</span> == <span class="keyword">typeof</span> e ? e : <span class="string">&quot;&quot;</span>).<span class="title function_">split</span>(<span class="regexp">/[\s,]+/</span>), s = r.<span class="property">length</span>;</span><br><span class="line">        <span class="keyword">for</span> (t = <span class="number">0</span>; t &lt; s; t++) r[t] &amp;&amp; (<span class="string">&quot;-&quot;</span> === (e = r[t].<span class="title function_">replace</span>(<span class="regexp">/\*/g</span>, <span class="string">&quot;.*?&quot;</span>))[<span class="number">0</span>] ? n.<span class="property">skips</span>.<span class="title function_">push</span>(<span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&quot;^&quot;</span> + e.<span class="title function_">slice</span>(<span class="number">1</span>) + <span class="string">&quot;$&quot;</span>)) : n.<span class="property">names</span>.<span class="title function_">push</span>(<span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&quot;^&quot;</span> + e + <span class="string">&quot;$&quot;</span>)))</span><br><span class="line">    &#125;, n.<span class="property">enabled</span> = <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="string">&quot;*&quot;</span> === e[e.<span class="property">length</span> - <span class="number">1</span>]) <span class="keyword">return</span> !<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">let</span> t, r;</span><br><span class="line">        <span class="keyword">for</span> (t = <span class="number">0</span>, r = n.<span class="property">skips</span>.<span class="property">length</span>; t &lt; r; t++) <span class="keyword">if</span> (n.<span class="property">skips</span>[t].<span class="title function_">test</span>(e)) <span class="keyword">return</span> !<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (t = <span class="number">0</span>, r = n.<span class="property">names</span>.<span class="property">length</span>; t &lt; r; t++) <span class="keyword">if</span> (n.<span class="property">names</span>[t].<span class="title function_">test</span>(e)) <span class="keyword">return</span> !<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> !<span class="number">1</span></span><br><span class="line">    &#125;, n.<span class="property">humanize</span> = <span class="built_in">require</span>(<span class="string">&quot;ms&quot;</span>), n.<span class="property">destroy</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">warn</span>(<span class="string">&quot;Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.&quot;</span>)</span><br><span class="line">    &#125;, <span class="title class_">Object</span>.<span class="title function_">keys</span>(e).<span class="title function_">forEach</span>((<span class="function"><span class="params">t</span> =&gt;</span> &#123;</span><br><span class="line">        n[t] = e[t]</span><br><span class="line">    &#125;)), n.<span class="property">names</span> = [], n.<span class="property">skips</span> = [], n.<span class="property">formatters</span> = &#123;&#125;, n.<span class="property">selectColor</span> = <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> t = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> n = <span class="number">0</span>; n &lt; e.<span class="property">length</span>; n++) t = (t &lt;&lt; <span class="number">5</span>) - t + e.<span class="title function_">charCodeAt</span>(n), t |= <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> n.<span class="property">colors</span>[<span class="title class_">Math</span>.<span class="title function_">abs</span>(t) % n.<span class="property">colors</span>.<span class="property">length</span>]</span><br><span class="line">    &#125;, n.<span class="title function_">enable</span>(n.<span class="title function_">load</span>()), n</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = setup;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">useColors</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> !(<span class="string">&quot;undefined&quot;</span> == <span class="keyword">typeof</span> <span class="variable language_">window</span> || !<span class="variable language_">window</span>.<span class="property">process</span> || <span class="string">&quot;renderer&quot;</span> !== <span class="variable language_">window</span>.<span class="property">process</span>.<span class="property">type</span> &amp;&amp; !<span class="variable language_">window</span>.<span class="property">process</span>.<span class="property">__nwjs</span>) || (<span class="string">&quot;undefined&quot;</span> == <span class="keyword">typeof</span> navigator || !navigator.<span class="property">userAgent</span> || !navigator.<span class="property">userAgent</span>.<span class="title function_">toLowerCase</span>().<span class="title function_">match</span>(<span class="regexp">/(edge|trident)\/(\d+)/</span>)) &amp;&amp; (<span class="string">&quot;undefined&quot;</span> != <span class="keyword">typeof</span> <span class="variable language_">document</span> &amp;&amp; <span class="variable language_">document</span>.<span class="property">documentElement</span> &amp;&amp; <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">style</span> &amp;&amp; <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">style</span>.<span class="property">WebkitAppearance</span> || <span class="string">&quot;undefined&quot;</span> != <span class="keyword">typeof</span> <span class="variable language_">window</span> &amp;&amp; <span class="variable language_">window</span>.<span class="property">console</span> &amp;&amp; (<span class="variable language_">window</span>.<span class="property">console</span>.<span class="property">firebug</span> || <span class="variable language_">window</span>.<span class="property">console</span>.<span class="property">exception</span> &amp;&amp; <span class="variable language_">window</span>.<span class="property">console</span>.<span class="property">table</span>) || <span class="string">&quot;undefined&quot;</span> != <span class="keyword">typeof</span> navigator &amp;&amp; navigator.<span class="property">userAgent</span> &amp;&amp; navigator.<span class="property">userAgent</span>.<span class="title function_">toLowerCase</span>().<span class="title function_">match</span>(<span class="regexp">/firefox\/(\d+)/</span>) &amp;&amp; <span class="built_in">parseInt</span>(<span class="title class_">RegExp</span>.<span class="property">$1</span>, <span class="number">10</span>) &gt;= <span class="number">31</span> || <span class="string">&quot;undefined&quot;</span> != <span class="keyword">typeof</span> navigator &amp;&amp; navigator.<span class="property">userAgent</span> &amp;&amp; navigator.<span class="property">userAgent</span>.<span class="title function_">toLowerCase</span>().<span class="title function_">match</span>(<span class="regexp">/applewebkit\/(\d+)/</span>))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">formatArgs</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (e[<span class="number">0</span>] = (<span class="variable language_">this</span>.<span class="property">useColors</span> ? <span class="string">&quot;%c&quot;</span> : <span class="string">&quot;&quot;</span>) + <span class="variable language_">this</span>.<span class="property">namespace</span> + (<span class="variable language_">this</span>.<span class="property">useColors</span> ? <span class="string">&quot; %c&quot;</span> : <span class="string">&quot; &quot;</span>) + e[<span class="number">0</span>] + (<span class="variable language_">this</span>.<span class="property">useColors</span> ? <span class="string">&quot;%c &quot;</span> : <span class="string">&quot; &quot;</span>) + <span class="string">&quot;+&quot;</span> + <span class="variable language_">module</span>.<span class="property">exports</span>.<span class="title function_">humanize</span>(<span class="variable language_">this</span>.<span class="property">diff</span>), !<span class="variable language_">this</span>.<span class="property">useColors</span>) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">const</span> o = <span class="string">&quot;color: &quot;</span> + <span class="variable language_">this</span>.<span class="property">color</span>;</span><br><span class="line">    e.<span class="title function_">splice</span>(<span class="number">1</span>, <span class="number">0</span>, o, <span class="string">&quot;color: inherit&quot;</span>);</span><br><span class="line">    <span class="keyword">let</span> t = <span class="number">0</span>, C = <span class="number">0</span>;</span><br><span class="line">    e[<span class="number">0</span>].<span class="title function_">replace</span>(<span class="regexp">/%[a-zA-Z%]/g</span>, (<span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="string">&quot;%%&quot;</span> !== e &amp;&amp; (t++, <span class="string">&quot;%c&quot;</span> === e &amp;&amp; (C = t))</span><br><span class="line">    &#125;)), e.<span class="title function_">splice</span>(C, <span class="number">0</span>, o)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">save</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        e ? <span class="built_in">exports</span>.<span class="property">storage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;debug&quot;</span>, e) : <span class="built_in">exports</span>.<span class="property">storage</span>.<span class="title function_">removeItem</span>(<span class="string">&quot;debug&quot;</span>)</span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">load</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> e;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        e = <span class="built_in">exports</span>.<span class="property">storage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;debug&quot;</span>)</span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> !e &amp;&amp; <span class="string">&quot;undefined&quot;</span> != <span class="keyword">typeof</span> process &amp;&amp; <span class="string">&quot;env&quot;</span> <span class="keyword">in</span> process &amp;&amp; (e = process.<span class="property">env</span>.<span class="property">DEBUG</span>), e</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">localstorage</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">localStorage</span></span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">formatArgs</span> = formatArgs, <span class="built_in">exports</span>.<span class="property">save</span> = save, <span class="built_in">exports</span>.<span class="property">load</span> = load, <span class="built_in">exports</span>.<span class="property">useColors</span> = useColors, <span class="built_in">exports</span>.<span class="property">storage</span> = <span class="title function_">localstorage</span>(), <span class="built_in">exports</span>.<span class="property">destroy</span> = (<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> e = !<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        e || (e = !<span class="number">0</span>, <span class="variable language_">console</span>.<span class="title function_">warn</span>(<span class="string">&quot;Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.&quot;</span>))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)(), <span class="built_in">exports</span>.<span class="property">colors</span> = [<span class="string">&quot;#0000CC&quot;</span>, <span class="string">&quot;#0000FF&quot;</span>, <span class="string">&quot;#0033CC&quot;</span>, <span class="string">&quot;#0033FF&quot;</span>, <span class="string">&quot;#0066CC&quot;</span>, <span class="string">&quot;#0066FF&quot;</span>, <span class="string">&quot;#0099CC&quot;</span>, <span class="string">&quot;#0099FF&quot;</span>, <span class="string">&quot;#00CC00&quot;</span>, <span class="string">&quot;#00CC33&quot;</span>, <span class="string">&quot;#00CC66&quot;</span>, <span class="string">&quot;#00CC99&quot;</span>, <span class="string">&quot;#00CCCC&quot;</span>, <span class="string">&quot;#00CCFF&quot;</span>, <span class="string">&quot;#3300CC&quot;</span>, <span class="string">&quot;#3300FF&quot;</span>, <span class="string">&quot;#3333CC&quot;</span>, <span class="string">&quot;#3333FF&quot;</span>, <span class="string">&quot;#3366CC&quot;</span>, <span class="string">&quot;#3366FF&quot;</span>, <span class="string">&quot;#3399CC&quot;</span>, <span class="string">&quot;#3399FF&quot;</span>, <span class="string">&quot;#33CC00&quot;</span>, <span class="string">&quot;#33CC33&quot;</span>, <span class="string">&quot;#33CC66&quot;</span>, <span class="string">&quot;#33CC99&quot;</span>, <span class="string">&quot;#33CCCC&quot;</span>, <span class="string">&quot;#33CCFF&quot;</span>, <span class="string">&quot;#6600CC&quot;</span>, <span class="string">&quot;#6600FF&quot;</span>, <span class="string">&quot;#6633CC&quot;</span>, <span class="string">&quot;#6633FF&quot;</span>, <span class="string">&quot;#66CC00&quot;</span>, <span class="string">&quot;#66CC33&quot;</span>, <span class="string">&quot;#9900CC&quot;</span>, <span class="string">&quot;#9900FF&quot;</span>, <span class="string">&quot;#9933CC&quot;</span>, <span class="string">&quot;#9933FF&quot;</span>, <span class="string">&quot;#99CC00&quot;</span>, <span class="string">&quot;#99CC33&quot;</span>, <span class="string">&quot;#CC0000&quot;</span>, <span class="string">&quot;#CC0033&quot;</span>, <span class="string">&quot;#CC0066&quot;</span>, <span class="string">&quot;#CC0099&quot;</span>, <span class="string">&quot;#CC00CC&quot;</span>, <span class="string">&quot;#CC00FF&quot;</span>, <span class="string">&quot;#CC3300&quot;</span>, <span class="string">&quot;#CC3333&quot;</span>, <span class="string">&quot;#CC3366&quot;</span>, <span class="string">&quot;#CC3399&quot;</span>, <span class="string">&quot;#CC33CC&quot;</span>, <span class="string">&quot;#CC33FF&quot;</span>, <span class="string">&quot;#CC6600&quot;</span>, <span class="string">&quot;#CC6633&quot;</span>, <span class="string">&quot;#CC9900&quot;</span>, <span class="string">&quot;#CC9933&quot;</span>, <span class="string">&quot;#CCCC00&quot;</span>, <span class="string">&quot;#CCCC33&quot;</span>, <span class="string">&quot;#FF0000&quot;</span>, <span class="string">&quot;#FF0033&quot;</span>, <span class="string">&quot;#FF0066&quot;</span>, <span class="string">&quot;#FF0099&quot;</span>, <span class="string">&quot;#FF00CC&quot;</span>, <span class="string">&quot;#FF00FF&quot;</span>, <span class="string">&quot;#FF3300&quot;</span>, <span class="string">&quot;#FF3333&quot;</span>, <span class="string">&quot;#FF3366&quot;</span>, <span class="string">&quot;#FF3399&quot;</span>, <span class="string">&quot;#FF33CC&quot;</span>, <span class="string">&quot;#FF33FF&quot;</span>, <span class="string">&quot;#FF6600&quot;</span>, <span class="string">&quot;#FF6633&quot;</span>, <span class="string">&quot;#FF9900&quot;</span>, <span class="string">&quot;#FF9933&quot;</span>, <span class="string">&quot;#FFCC00&quot;</span>, <span class="string">&quot;#FFCC33&quot;</span>], <span class="built_in">exports</span>.<span class="property">log</span> = <span class="variable language_">console</span>.<span class="property">log</span> || <span class="variable language_">console</span>.<span class="property">debug</span> || <span class="variable language_">console</span>.<span class="property">log</span> || (<span class="function">() =&gt;</span> &#123;</span><br><span class="line">&#125;), <span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title function_">setup</span>(<span class="built_in">exports</span>);</span><br><span class="line"><span class="keyword">const</span> &#123;<span class="attr">formatters</span>: formatters,<span class="attr">log</span>:log&#125; = <span class="variable language_">module</span>.<span class="property">exports</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将 common.js 的逻辑合并到这里</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">init</span>(<span class="params">debug</span>) &#123;</span><br><span class="line">    <span class="comment">// common.js 的 init 函数内容</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">coerce</span>(<span class="params">val</span>) &#123;</span><br><span class="line">    <span class="comment">// common.js 的 coerce 函数内容</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">init</span> = init;</span><br><span class="line"><span class="built_in">exports</span>.<span class="property">coerce</span> = coerce;</span><br><span class="line"></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">formatters</span> = &#123;</span><br><span class="line">    <span class="comment">// 根据你的需求添加或调整 formatters 的内容</span></span><br><span class="line">    <span class="attr">j</span>: <span class="keyword">function</span> (<span class="params">v</span>) &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(v);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;[UnexpectedJSONParseError]: &#x27;</span> + error.<span class="property">message</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义 logCost 装饰器</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">logCost</span>(<span class="params">target, name, descriptor</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> original = descriptor &amp;&amp; descriptor.<span class="property">value</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> original === <span class="string">&quot;function&quot;</span>) &#123;</span><br><span class="line">        descriptor.<span class="property">value</span> = <span class="keyword">function</span> (<span class="params">...args</span>) &#123;</span><br><span class="line">            <span class="keyword">const</span> start = <span class="keyword">typeof</span> performance !== <span class="string">&#x27;undefined&#x27;</span> ? performance.<span class="title function_">now</span>() : <span class="title class_">Date</span>.<span class="title function_">now</span>();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">const</span> result = original.<span class="title function_">apply</span>(<span class="variable language_">this</span>, args);</span><br><span class="line"></span><br><span class="line">                <span class="comment">// 处理同步方法</span></span><br><span class="line">                <span class="keyword">if</span> (result &amp;&amp; <span class="keyword">typeof</span> result.<span class="property">then</span> === <span class="string">&quot;function&quot;</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> result.<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">                        <span class="keyword">const</span> end = <span class="keyword">typeof</span> performance !== <span class="string">&#x27;undefined&#x27;</span> ? performance.<span class="title function_">now</span>() : <span class="title class_">Date</span>.<span class="title function_">now</span>();</span><br><span class="line">                        <span class="title function_">log</span>(<span class="string">`🥰:<span class="subst">$&#123;name&#125;</span> <span class="subst">$&#123;(end - start).toFixed(<span class="number">2</span>)&#125;</span>ms`</span>);</span><br><span class="line">                        <span class="keyword">return</span> res;</span><br><span class="line">                    &#125;).<span class="title function_">catch</span>(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">                        <span class="keyword">const</span> end = <span class="keyword">typeof</span> performance !== <span class="string">&#x27;undefined&#x27;</span> ? performance.<span class="title function_">now</span>() : <span class="title class_">Date</span>.<span class="title function_">now</span>();</span><br><span class="line">                        <span class="title function_">log</span>(<span class="string">`🥰:<span class="subst">$&#123;name&#125;</span> <span class="subst">$&#123;(end - start).toFixed(<span class="number">2</span>)&#125;</span>ms`</span>);</span><br><span class="line">                        <span class="keyword">throw</span> err;</span><br><span class="line">                    &#125;);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">const</span> end = <span class="keyword">typeof</span> performance !== <span class="string">&#x27;undefined&#x27;</span> ? performance.<span class="title function_">now</span>() : <span class="title class_">Date</span>.<span class="title function_">now</span>();</span><br><span class="line">                    <span class="title function_">log</span>(<span class="string">`🥰:<span class="subst">$&#123;name&#125;</span> <span class="subst">$&#123;(end - start).toFixed(<span class="number">2</span>)&#125;</span>ms`</span>);</span><br><span class="line">                    <span class="keyword">return</span> result;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">                <span class="keyword">const</span> end = <span class="keyword">typeof</span> performance !== <span class="string">&#x27;undefined&#x27;</span> ? performance.<span class="title function_">now</span>() : <span class="title class_">Date</span>.<span class="title function_">now</span>();</span><br><span class="line">                <span class="title function_">log</span>(<span class="string">`🥰:<span class="subst">$&#123;name&#125;</span> <span class="subst">$&#123;(end - start).toFixed(<span class="number">2</span>)&#125;</span>ms`</span>);</span><br><span class="line">                <span class="keyword">throw</span> e;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> descriptor;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 导出 logCost 装饰器</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span>.<span class="property">logCost</span> = logCost;</span><br></pre></td></tr></table></figure>

<h3 id="压缩后完整代码-debug-min-js"><a href="#压缩后完整代码-debug-min-js" class="headerlink" title="压缩后完整代码 debug.min.js"></a>压缩后完整代码 debug.min.js</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">setup</span>(<span class="params">e</span>)&#123;<span class="keyword">function</span> <span class="title function_">n</span>(<span class="params">e</span>)&#123;<span class="keyword">let</span> r,s,o,l=<span class="literal">null</span>;<span class="keyword">function</span> <span class="title function_">a</span>(<span class="params">...e</span>)&#123;<span class="keyword">if</span>(!a.<span class="property">enabled</span>)<span class="keyword">return</span>;<span class="keyword">const</span> t=a,s=<span class="title class_">Number</span>(<span class="keyword">new</span> <span class="title class_">Date</span>),o=s-(r||s);t.<span class="property">diff</span>=o,t.<span class="property">prev</span>=r,t.<span class="property">curr</span>=s,r=s,e[<span class="number">0</span>]=n.<span class="title function_">coerce</span>(e[<span class="number">0</span>]),<span class="string">&quot;string&quot;</span>!=<span class="keyword">typeof</span> e[<span class="number">0</span>]&amp;&amp;e.<span class="title function_">unshift</span>(<span class="string">&quot;%O&quot;</span>);<span class="keyword">let</span> l=<span class="number">0</span>;e[<span class="number">0</span>]=e[<span class="number">0</span>].<span class="title function_">replace</span>(<span class="regexp">/%([a-zA-Z%])/g</span>,(<span class="function">(<span class="params">r,s</span>)=&gt;</span>&#123;<span class="keyword">if</span>(<span class="string">&quot;%%&quot;</span>===r)<span class="keyword">return</span><span class="string">&quot;%&quot;</span>;l++;<span class="keyword">const</span> o=n.<span class="property">formatters</span>[s];<span class="keyword">if</span>(<span class="string">&quot;function&quot;</span>==<span class="keyword">typeof</span> o)&#123;<span class="keyword">const</span> n=e[l];r=o.<span class="title function_">call</span>(t,n),e.<span class="title function_">splice</span>(l,<span class="number">1</span>),l--&#125;<span class="keyword">return</span> r&#125;)),n.<span class="property">formatArgs</span>.<span class="title function_">call</span>(t,e);(t.<span class="property">log</span>||n.<span class="property">log</span>).<span class="title function_">apply</span>(t,e)&#125;<span class="keyword">return</span> a.<span class="property">namespace</span>=e,a.<span class="property">useColors</span>=n.<span class="title function_">useColors</span>(),a.<span class="property">color</span>=n.<span class="title function_">selectColor</span>(e),a.<span class="property">extend</span>=t,a.<span class="property">destroy</span>=n.<span class="property">destroy</span>,<span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(a,<span class="string">&quot;enabled&quot;</span>,&#123;<span class="attr">enumerable</span>:!<span class="number">0</span>,<span class="attr">configurable</span>:!<span class="number">1</span>,<span class="attr">get</span>:<span class="function">()=&gt;</span><span class="literal">null</span>!==l?<span class="attr">l</span>:(s!==n.<span class="property">namespaces</span>&amp;&amp;(s=n.<span class="property">namespaces</span>,o=n.<span class="title function_">enabled</span>(e)),o),<span class="attr">set</span>:<span class="function"><span class="params">e</span>=&gt;</span>&#123;l=e&#125;&#125;),<span class="string">&quot;function&quot;</span>==<span class="keyword">typeof</span> n.<span class="property">init</span>&amp;&amp;n.<span class="title function_">init</span>(a),a&#125;<span class="keyword">function</span> <span class="title function_">t</span>(<span class="params">e,t</span>)&#123;<span class="keyword">const</span> r=<span class="title function_">n</span>(<span class="variable language_">this</span>.<span class="property">namespace</span>+(<span class="keyword">void</span> <span class="number">0</span>===t?<span class="string">&quot;:&quot;</span>:t)+e);<span class="keyword">return</span> r.<span class="property">log</span>=<span class="variable language_">this</span>.<span class="property">log</span>,r&#125;<span class="keyword">function</span> <span class="title function_">r</span>(<span class="params">e</span>)&#123;<span class="keyword">return</span> e.<span class="title function_">toString</span>().<span class="title function_">substring</span>(<span class="number">2</span>,e.<span class="title function_">toString</span>().<span class="property">length</span>-<span class="number">2</span>).<span class="title function_">replace</span>(<span class="regexp">/\.\*\?$/</span>,<span class="string">&quot;*&quot;</span>)&#125;<span class="keyword">return</span> n.<span class="property">debug</span>=n,n.<span class="property">default</span>=n,n.<span class="property">coerce</span>=<span class="keyword">function</span>(<span class="params">e</span>)&#123;<span class="keyword">if</span>(e <span class="keyword">instanceof</span> <span class="title class_">Error</span>)<span class="keyword">return</span> e.<span class="property">stack</span>||e.<span class="property">message</span>;<span class="keyword">return</span> e&#125;,n.<span class="property">disable</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;<span class="keyword">const</span> e=[...n.<span class="property">names</span>.<span class="title function_">map</span>(r),...n.<span class="property">skips</span>.<span class="title function_">map</span>(r).<span class="title function_">map</span>((<span class="function"><span class="params">e</span>=&gt;</span><span class="string">&quot;-&quot;</span>+e))].<span class="title function_">join</span>(<span class="string">&quot;,&quot;</span>);<span class="keyword">return</span> n.<span class="title function_">enable</span>(<span class="string">&quot;&quot;</span>),e&#125;,n.<span class="property">enable</span>=<span class="keyword">function</span>(<span class="params">e</span>)&#123;<span class="keyword">let</span> t;n.<span class="title function_">save</span>(e),n.<span class="property">namespaces</span>=e,n.<span class="property">names</span>=[],n.<span class="property">skips</span>=[];<span class="keyword">const</span> r=(<span class="string">&quot;string&quot;</span>==<span class="keyword">typeof</span> e?<span class="attr">e</span>:<span class="string">&quot;&quot;</span>).<span class="title function_">split</span>(<span class="regexp">/[\s,]+/</span>),s=r.<span class="property">length</span>;<span class="keyword">for</span>(t=<span class="number">0</span>;t&lt;s;t++)r[t]&amp;&amp;(<span class="string">&quot;-&quot;</span>===(e=r[t].<span class="title function_">replace</span>(<span class="regexp">/\*/g</span>,<span class="string">&quot;.*?&quot;</span>))[<span class="number">0</span>]?n.<span class="property">skips</span>.<span class="title function_">push</span>(<span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&quot;^&quot;</span>+e.<span class="title function_">slice</span>(<span class="number">1</span>)+<span class="string">&quot;$&quot;</span>)):n.<span class="property">names</span>.<span class="title function_">push</span>(<span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&quot;^&quot;</span>+e+<span class="string">&quot;$&quot;</span>)))&#125;,n.<span class="property">enabled</span>=<span class="keyword">function</span>(<span class="params">e</span>)&#123;<span class="keyword">if</span>(<span class="string">&quot;*&quot;</span>===e[e.<span class="property">length</span>-<span class="number">1</span>])<span class="keyword">return</span>!<span class="number">0</span>;<span class="keyword">let</span> t,r;<span class="keyword">for</span>(t=<span class="number">0</span>,r=n.<span class="property">skips</span>.<span class="property">length</span>;t&lt;r;t++)<span class="keyword">if</span>(n.<span class="property">skips</span>[t].<span class="title function_">test</span>(e))<span class="keyword">return</span>!<span class="number">1</span>;<span class="keyword">for</span>(t=<span class="number">0</span>,r=n.<span class="property">names</span>.<span class="property">length</span>;t&lt;r;t++)<span class="keyword">if</span>(n.<span class="property">names</span>[t].<span class="title function_">test</span>(e))<span class="keyword">return</span>!<span class="number">0</span>;<span class="keyword">return</span>!<span class="number">1</span>&#125;,n.<span class="property">humanize</span>=<span class="built_in">require</span>(<span class="string">&quot;ms&quot;</span>),n.<span class="property">destroy</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;<span class="variable language_">console</span>.<span class="title function_">warn</span>(<span class="string">&quot;Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.&quot;</span>)&#125;,<span class="title class_">Object</span>.<span class="title function_">keys</span>(e).<span class="title function_">forEach</span>((<span class="function"><span class="params">t</span>=&gt;</span>&#123;n[t]=e[t]&#125;)),n.<span class="property">names</span>=[],n.<span class="property">skips</span>=[],n.<span class="property">formatters</span>=&#123;&#125;,n.<span class="property">selectColor</span>=<span class="keyword">function</span>(<span class="params">e</span>)&#123;<span class="keyword">let</span> t=<span class="number">0</span>;<span class="keyword">for</span>(<span class="keyword">let</span> n=<span class="number">0</span>;n&lt;e.<span class="property">length</span>;n++)t=(t&lt;&lt;<span class="number">5</span>)-t+e.<span class="title function_">charCodeAt</span>(n),t|=<span class="number">0</span>;<span class="keyword">return</span> n.<span class="property">colors</span>[<span class="title class_">Math</span>.<span class="title function_">abs</span>(t)%n.<span class="property">colors</span>.<span class="property">length</span>]&#125;,n.<span class="title function_">enable</span>(n.<span class="title function_">load</span>()),n&#125;<span class="variable language_">module</span>.<span class="property">exports</span>=setup;<span class="keyword">function</span> <span class="title function_">useColors</span>(<span class="params"></span>)&#123;<span class="keyword">return</span>!(<span class="string">&quot;undefined&quot;</span>==<span class="keyword">typeof</span> <span class="variable language_">window</span>||!<span class="variable language_">window</span>.<span class="property">process</span>||<span class="string">&quot;renderer&quot;</span>!==<span class="variable language_">window</span>.<span class="property">process</span>.<span class="property">type</span>&amp;&amp;!<span class="variable language_">window</span>.<span class="property">process</span>.<span class="property">__nwjs</span>)||(<span class="string">&quot;undefined&quot;</span>==<span class="keyword">typeof</span> navigator||!navigator.<span class="property">userAgent</span>||!navigator.<span class="property">userAgent</span>.<span class="title function_">toLowerCase</span>().<span class="title function_">match</span>(<span class="regexp">/(edge|trident)\/(\d+)/</span>))&amp;&amp;(<span class="string">&quot;undefined&quot;</span>!=<span class="keyword">typeof</span> <span class="variable language_">document</span>&amp;&amp;<span class="variable language_">document</span>.<span class="property">documentElement</span>&amp;&amp;<span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">style</span>&amp;&amp;<span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">style</span>.<span class="property">WebkitAppearance</span>||<span class="string">&quot;undefined&quot;</span>!=<span class="keyword">typeof</span> <span class="variable language_">window</span>&amp;&amp;<span class="variable language_">window</span>.<span class="property">console</span>&amp;&amp;(<span class="variable language_">window</span>.<span class="property">console</span>.<span class="property">firebug</span>||<span class="variable language_">window</span>.<span class="property">console</span>.<span class="property">exception</span>&amp;&amp;<span class="variable language_">window</span>.<span class="property">console</span>.<span class="property">table</span>)||<span class="string">&quot;undefined&quot;</span>!=<span class="keyword">typeof</span> navigator&amp;&amp;navigator.<span class="property">userAgent</span>&amp;&amp;navigator.<span class="property">userAgent</span>.<span class="title function_">toLowerCase</span>().<span class="title function_">match</span>(<span class="regexp">/firefox\/(\d+)/</span>)&amp;&amp;<span class="built_in">parseInt</span>(<span class="title class_">RegExp</span>.<span class="property">$1</span>,<span class="number">10</span>)&gt;=<span class="number">31</span>||<span class="string">&quot;undefined&quot;</span>!=<span class="keyword">typeof</span> navigator&amp;&amp;navigator.<span class="property">userAgent</span>&amp;&amp;navigator.<span class="property">userAgent</span>.<span class="title function_">toLowerCase</span>().<span class="title function_">match</span>(<span class="regexp">/applewebkit\/(\d+)/</span>))&#125;<span class="keyword">function</span> <span class="title function_">formatArgs</span>(<span class="params">e</span>)&#123;<span class="keyword">if</span>(e[<span class="number">0</span>]=(<span class="variable language_">this</span>.<span class="property">useColors</span>?<span class="string">&quot;%c&quot;</span>:<span class="string">&quot;&quot;</span>)+<span class="variable language_">this</span>.<span class="property">namespace</span>+(<span class="variable language_">this</span>.<span class="property">useColors</span>?<span class="string">&quot; %c&quot;</span>:<span class="string">&quot; &quot;</span>)+e[<span class="number">0</span>]+(<span class="variable language_">this</span>.<span class="property">useColors</span>?<span class="string">&quot;%c &quot;</span>:<span class="string">&quot; &quot;</span>)+<span class="string">&quot;+&quot;</span>+<span class="variable language_">module</span>.<span class="property">exports</span>.<span class="title function_">humanize</span>(<span class="variable language_">this</span>.<span class="property">diff</span>),!<span class="variable language_">this</span>.<span class="property">useColors</span>)<span class="keyword">return</span>;<span class="keyword">const</span> o=<span class="string">&quot;color: &quot;</span>+<span class="variable language_">this</span>.<span class="property">color</span>;e.<span class="title function_">splice</span>(<span class="number">1</span>,<span class="number">0</span>,o,<span class="string">&quot;color: inherit&quot;</span>);<span class="keyword">let</span> t=<span class="number">0</span>,C=<span class="number">0</span>;e[<span class="number">0</span>].<span class="title function_">replace</span>(<span class="regexp">/%[a-zA-Z%]/g</span>,(<span class="function"><span class="params">e</span>=&gt;</span>&#123;<span class="string">&quot;%%&quot;</span>!==e&amp;&amp;(t++,<span class="string">&quot;%c&quot;</span>===e&amp;&amp;(C=t))&#125;)),e.<span class="title function_">splice</span>(C,<span class="number">0</span>,o)&#125;<span class="keyword">function</span> <span class="title function_">save</span>(<span class="params">e</span>)&#123;<span class="keyword">try</span>&#123;e?<span class="built_in">exports</span>.<span class="property">storage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;debug&quot;</span>,e):<span class="built_in">exports</span>.<span class="property">storage</span>.<span class="title function_">removeItem</span>(<span class="string">&quot;debug&quot;</span>)&#125;<span class="keyword">catch</span>(e)&#123;&#125;&#125;<span class="keyword">function</span> <span class="title function_">load</span>(<span class="params"></span>)&#123;<span class="keyword">let</span> e;<span class="keyword">try</span>&#123;e=<span class="built_in">exports</span>.<span class="property">storage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;debug&quot;</span>)&#125;<span class="keyword">catch</span>(e)&#123;&#125;<span class="keyword">return</span>!e&amp;&amp;<span class="string">&quot;undefined&quot;</span>!=<span class="keyword">typeof</span> process&amp;&amp;<span class="string">&quot;env&quot;</span><span class="keyword">in</span> process&amp;&amp;(e=process.<span class="property">env</span>.<span class="property">DEBUG</span>),e&#125;<span class="keyword">function</span> <span class="title function_">localstorage</span>(<span class="params"></span>)&#123;<span class="keyword">try</span>&#123;<span class="keyword">return</span> <span class="variable language_">localStorage</span>&#125;<span class="keyword">catch</span>(e)&#123;&#125;&#125;<span class="built_in">exports</span>.<span class="property">formatArgs</span>=formatArgs,<span class="built_in">exports</span>.<span class="property">save</span>=save,<span class="built_in">exports</span>.<span class="property">load</span>=load,<span class="built_in">exports</span>.<span class="property">useColors</span>=useColors,<span class="built_in">exports</span>.<span class="property">storage</span>=<span class="title function_">localstorage</span>(),<span class="built_in">exports</span>.<span class="property">destroy</span>=(<span class="function">()=&gt;</span>&#123;<span class="keyword">let</span> e=!<span class="number">1</span>;<span class="keyword">return</span><span class="function">()=&gt;</span>&#123;e||(e=!<span class="number">0</span>,<span class="variable language_">console</span>.<span class="title function_">warn</span>(<span class="string">&quot;Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.&quot;</span>))&#125;&#125;)(),<span class="built_in">exports</span>.<span class="property">colors</span>=[<span class="string">&quot;#0000CC&quot;</span>,<span class="string">&quot;#0000FF&quot;</span>,<span class="string">&quot;#0033CC&quot;</span>,<span class="string">&quot;#0033FF&quot;</span>,<span class="string">&quot;#0066CC&quot;</span>,<span class="string">&quot;#0066FF&quot;</span>,<span class="string">&quot;#0099CC&quot;</span>,<span class="string">&quot;#0099FF&quot;</span>,<span class="string">&quot;#00CC00&quot;</span>,<span class="string">&quot;#00CC33&quot;</span>,<span class="string">&quot;#00CC66&quot;</span>,<span class="string">&quot;#00CC99&quot;</span>,<span class="string">&quot;#00CCCC&quot;</span>,<span class="string">&quot;#00CCFF&quot;</span>,<span class="string">&quot;#3300CC&quot;</span>,<span class="string">&quot;#3300FF&quot;</span>,<span class="string">&quot;#3333CC&quot;</span>,<span class="string">&quot;#3333FF&quot;</span>,<span class="string">&quot;#3366CC&quot;</span>,<span class="string">&quot;#3366FF&quot;</span>,<span class="string">&quot;#3399CC&quot;</span>,<span class="string">&quot;#3399FF&quot;</span>,<span class="string">&quot;#33CC00&quot;</span>,<span class="string">&quot;#33CC33&quot;</span>,<span class="string">&quot;#33CC66&quot;</span>,<span class="string">&quot;#33CC99&quot;</span>,<span class="string">&quot;#33CCCC&quot;</span>,<span class="string">&quot;#33CCFF&quot;</span>,<span class="string">&quot;#6600CC&quot;</span>,<span class="string">&quot;#6600FF&quot;</span>,<span class="string">&quot;#6633CC&quot;</span>,<span class="string">&quot;#6633FF&quot;</span>,<span class="string">&quot;#66CC00&quot;</span>,<span class="string">&quot;#66CC33&quot;</span>,<span class="string">&quot;#9900CC&quot;</span>,<span class="string">&quot;#9900FF&quot;</span>,<span class="string">&quot;#9933CC&quot;</span>,<span class="string">&quot;#9933FF&quot;</span>,<span class="string">&quot;#99CC00&quot;</span>,<span class="string">&quot;#99CC33&quot;</span>,<span class="string">&quot;#CC0000&quot;</span>,<span class="string">&quot;#CC0033&quot;</span>,<span class="string">&quot;#CC0066&quot;</span>,<span class="string">&quot;#CC0099&quot;</span>,<span class="string">&quot;#CC00CC&quot;</span>,<span class="string">&quot;#CC00FF&quot;</span>,<span class="string">&quot;#CC3300&quot;</span>,<span class="string">&quot;#CC3333&quot;</span>,<span class="string">&quot;#CC3366&quot;</span>,<span class="string">&quot;#CC3399&quot;</span>,<span class="string">&quot;#CC33CC&quot;</span>,<span class="string">&quot;#CC33FF&quot;</span>,<span class="string">&quot;#CC6600&quot;</span>,<span class="string">&quot;#CC6633&quot;</span>,<span class="string">&quot;#CC9900&quot;</span>,<span class="string">&quot;#CC9933&quot;</span>,<span class="string">&quot;#CCCC00&quot;</span>,<span class="string">&quot;#CCCC33&quot;</span>,<span class="string">&quot;#FF0000&quot;</span>,<span class="string">&quot;#FF0033&quot;</span>,<span class="string">&quot;#FF0066&quot;</span>,<span class="string">&quot;#FF0099&quot;</span>,<span class="string">&quot;#FF00CC&quot;</span>,<span class="string">&quot;#FF00FF&quot;</span>,<span class="string">&quot;#FF3300&quot;</span>,<span class="string">&quot;#FF3333&quot;</span>,<span class="string">&quot;#FF3366&quot;</span>,<span class="string">&quot;#FF3399&quot;</span>,<span class="string">&quot;#FF33CC&quot;</span>,<span class="string">&quot;#FF33FF&quot;</span>,<span class="string">&quot;#FF6600&quot;</span>,<span class="string">&quot;#FF6633&quot;</span>,<span class="string">&quot;#FF9900&quot;</span>,<span class="string">&quot;#FF9933&quot;</span>,<span class="string">&quot;#FFCC00&quot;</span>,<span class="string">&quot;#FFCC33&quot;</span>],<span class="built_in">exports</span>.<span class="property">log</span>=<span class="variable language_">console</span>.<span class="property">log</span>||<span class="variable language_">console</span>.<span class="property">debug</span>||<span class="variable language_">console</span>.<span class="property">log</span>||(<span class="function">()=&gt;</span>&#123;&#125;),<span class="variable language_">module</span>.<span class="property">exports</span>=<span class="title function_">setup</span>(<span class="built_in">exports</span>);<span class="keyword">const</span>&#123;<span class="attr">formatters</span>:formatters,<span class="attr">log</span>:log&#125;=<span class="variable language_">module</span>.<span class="property">exports</span>;<span class="keyword">function</span> <span class="title function_">init</span>(<span class="params">debug</span>)&#123;&#125;<span class="keyword">function</span> <span class="title function_">coerce</span>(<span class="params">val</span>)&#123;&#125;<span class="built_in">exports</span>.<span class="property">init</span>=init;<span class="built_in">exports</span>.<span class="property">coerce</span>=coerce;<span class="built_in">exports</span>.<span class="property">formatters</span>=&#123;<span class="attr">j</span>:<span class="keyword">function</span>(<span class="params">v</span>)&#123;<span class="keyword">try</span>&#123;<span class="keyword">return</span> <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(v)&#125;<span class="keyword">catch</span>(error)&#123;<span class="keyword">return</span><span class="string">&#x27;[UnexpectedJSONParseError]: &#x27;</span>+error.<span class="property">message</span>&#125;&#125;&#125;;<span class="keyword">function</span> <span class="title function_">logCost</span>(<span class="params">target,name,descriptor</span>)&#123;<span class="keyword">const</span> original=descriptor&amp;&amp;descriptor.<span class="property">value</span>;<span class="keyword">if</span>(<span class="keyword">typeof</span> original===<span class="string">&quot;function&quot;</span>)&#123;descriptor.<span class="property">value</span>=<span class="keyword">function</span>(<span class="params">...args</span>)&#123;<span class="keyword">const</span> start=<span class="keyword">typeof</span> performance!==<span class="string">&#x27;undefined&#x27;</span>?performance.<span class="title function_">now</span>():<span class="title class_">Date</span>.<span class="title function_">now</span>();<span class="keyword">try</span>&#123;<span class="keyword">const</span> result=original.<span class="title function_">apply</span>(<span class="variable language_">this</span>,args);<span class="keyword">if</span>(result&amp;&amp;<span class="keyword">typeof</span> result.<span class="property">then</span>===<span class="string">&quot;function&quot;</span>)&#123;<span class="keyword">return</span> result.<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>)=&gt;</span>&#123;<span class="keyword">const</span> end=<span class="keyword">typeof</span> performance!==<span class="string">&#x27;undefined&#x27;</span>?performance.<span class="title function_">now</span>():<span class="title class_">Date</span>.<span class="title function_">now</span>();<span class="title function_">log</span>(<span class="string">`🥰:<span class="subst">$&#123;name&#125;</span><span class="subst">$&#123;(end-start).toFixed(<span class="number">2</span>)&#125;</span>ms`</span>);<span class="keyword">return</span> res&#125;).<span class="title function_">catch</span>(<span class="function">(<span class="params">err</span>)=&gt;</span>&#123;<span class="keyword">const</span> end=<span class="keyword">typeof</span> performance!==<span class="string">&#x27;undefined&#x27;</span>?performance.<span class="title function_">now</span>():<span class="title class_">Date</span>.<span class="title function_">now</span>();<span class="title function_">log</span>(<span class="string">`🥰:<span class="subst">$&#123;name&#125;</span><span class="subst">$&#123;(end-start).toFixed(<span class="number">2</span>)&#125;</span>ms`</span>);<span class="keyword">throw</span> err;&#125;)&#125;<span class="keyword">else</span>&#123;<span class="keyword">const</span> end=<span class="keyword">typeof</span> performance!==<span class="string">&#x27;undefined&#x27;</span>?performance.<span class="title function_">now</span>():<span class="title class_">Date</span>.<span class="title function_">now</span>();<span class="title function_">log</span>(<span class="string">`🥰:<span class="subst">$&#123;name&#125;</span><span class="subst">$&#123;(end-start).toFixed(<span class="number">2</span>)&#125;</span>ms`</span>);<span class="keyword">return</span> result&#125;&#125;<span class="keyword">catch</span>(e)&#123;<span class="keyword">const</span> end=<span class="keyword">typeof</span> performance!==<span class="string">&#x27;undefined&#x27;</span>?performance.<span class="title function_">now</span>():<span class="title class_">Date</span>.<span class="title function_">now</span>();<span class="title function_">log</span>(<span class="string">`🥰:<span class="subst">$&#123;name&#125;</span><span class="subst">$&#123;(end-start).toFixed(<span class="number">2</span>)&#125;</span>ms`</span>);<span class="keyword">throw</span> e;&#125;&#125;&#125;<span class="keyword">return</span> descriptor&#125;<span class="variable language_">module</span>.<span class="property">exports</span>.<span class="property">logCost</span>=logCost;</span><br></pre></td></tr></table></figure>

<h3 id="声明文件"><a href="#声明文件" class="headerlink" title="声明文件"></a>声明文件</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="keyword">var</span> <span class="attr">debug</span>: debug.<span class="property">Debug</span> &amp; &#123; <span class="attr">debug</span>: debug.<span class="property">Debug</span>; <span class="attr">default</span>: debug.<span class="property">Debug</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> = debug;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">as</span> <span class="keyword">namespace</span> debug;</span><br><span class="line"></span><br><span class="line">declare <span class="keyword">namespace</span> debug &#123;</span><br><span class="line">    <span class="keyword">interface</span> <span class="title class_">Debug</span> &#123;</span><br><span class="line">        (<span class="attr">namespace</span>: <span class="built_in">string</span>): <span class="title class_">Debugger</span>;</span><br><span class="line">        <span class="attr">coerce</span>: <span class="function">(<span class="params">val: <span class="built_in">any</span></span>) =&gt;</span> <span class="built_in">any</span>;</span><br><span class="line">        <span class="attr">disable</span>: <span class="function">() =&gt;</span> <span class="built_in">string</span>;</span><br><span class="line">        <span class="attr">enable</span>: <span class="function">(<span class="params">namespaces: <span class="built_in">string</span></span>) =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line">        <span class="attr">enabled</span>: <span class="function">(<span class="params">namespaces: <span class="built_in">string</span></span>) =&gt;</span> <span class="built_in">boolean</span>;</span><br><span class="line">        <span class="attr">formatArgs</span>: <span class="function">(<span class="params"><span class="variable language_">this</span>: Debugger, args: <span class="built_in">any</span>[]</span>) =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line">        <span class="attr">log</span>: <span class="function">(<span class="params">...args: <span class="built_in">any</span>[]</span>) =&gt;</span> <span class="built_in">any</span>;</span><br><span class="line">        <span class="attr">selectColor</span>: <span class="function">(<span class="params"><span class="keyword">namespace</span>: <span class="built_in">string</span></span>) =&gt;</span> <span class="built_in">string</span> | <span class="built_in">number</span>;</span><br><span class="line">        <span class="attr">humanize</span>: <span class="keyword">typeof</span> <span class="keyword">import</span>(<span class="string">&quot;ms&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="attr">names</span>: <span class="title class_">RegExp</span>[];</span><br><span class="line">        <span class="attr">skips</span>: <span class="title class_">RegExp</span>[];</span><br><span class="line"></span><br><span class="line">        <span class="attr">formatters</span>: <span class="title class_">Formatters</span>;</span><br><span class="line"></span><br><span class="line">        inspectOpts?: &#123;</span><br><span class="line">            hideDate?: <span class="built_in">boolean</span> | <span class="built_in">number</span> | <span class="literal">null</span>;</span><br><span class="line">            colors?: <span class="built_in">boolean</span> | <span class="built_in">number</span> | <span class="literal">null</span>;</span><br><span class="line">            depth?: <span class="built_in">boolean</span> | <span class="built_in">number</span> | <span class="literal">null</span>;</span><br><span class="line">            showHidden?: <span class="built_in">boolean</span> | <span class="built_in">number</span> | <span class="literal">null</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">type</span> <span class="title class_">IDebug</span> = <span class="title class_">Debug</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">interface</span> <span class="title class_">Formatters</span> &#123;</span><br><span class="line">        [<span class="attr">formatter</span>: <span class="built_in">string</span>]: <span class="function">(<span class="params">v: <span class="built_in">any</span></span>) =&gt;</span> <span class="built_in">string</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">type</span> <span class="title class_">IDebugger</span> = <span class="title class_">Debugger</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">interface</span> <span class="title class_">Debugger</span> &#123;</span><br><span class="line">        (<span class="attr">formatter</span>: <span class="built_in">any</span>, ...<span class="attr">args</span>: <span class="built_in">any</span>[]): <span class="built_in">void</span>;</span><br><span class="line"></span><br><span class="line">        <span class="attr">color</span>: <span class="built_in">string</span>;</span><br><span class="line">        <span class="attr">diff</span>: <span class="built_in">number</span>;</span><br><span class="line">        <span class="attr">enabled</span>: <span class="built_in">boolean</span>;</span><br><span class="line">        <span class="attr">log</span>: <span class="function">(<span class="params">...args: <span class="built_in">any</span>[]</span>) =&gt;</span> <span class="built_in">any</span>;</span><br><span class="line">        <span class="attr">namespace</span>: <span class="built_in">string</span>;</span><br><span class="line">        <span class="attr">destroy</span>: <span class="function">() =&gt;</span> <span class="built_in">boolean</span>;</span><br><span class="line">        <span class="attr">extend</span>: <span class="function">(<span class="params"><span class="keyword">namespace</span>: <span class="built_in">string</span>, delimiter?: <span class="built_in">string</span></span>) =&gt;</span> <span class="title class_">Debugger</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> <span class="title class_">MethodDecorator</span> = &lt;T&gt;<span class="function">(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">    target: <span class="built_in">Object</span> | <span class="built_in">Function</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">    propertyKey: <span class="built_in">string</span> | <span class="built_in">symbol</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">    descriptor: TypedPropertyDescriptor&lt;T&gt;</span></span></span><br><span class="line"><span class="params"><span class="function"></span>) =&gt;</span> <span class="title class_">TypedPropertyDescriptor</span>&lt;T&gt; | <span class="built_in">void</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="attr">logCost</span>: <span class="title class_">MethodDecorator</span>; <span class="comment">// Added logCost decorator</span></span><br></pre></td></tr></table></figure>

<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>在学习技术的时候，学会举一反三，学会融合一些第三方工具，可以帮助自己在开发中更细节的了解项目的性能。</p>
<h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><ul>
<li><a target="_blank" rel="noopener" href="https://www.jsdelivr.com/">A free CDN for open source projects</a></li>
<li><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/_Sj0v19I84_NudHdZpahKg">debug：一个调试小工具</a></li>
<li><a target="_blank" rel="noopener" href="https://www.jyshare.com/front-end/51/">代码压缩网站</a></li>
</ul>

  </div>
  <!--文末结束语-->
  
    <div style="text-align:center;color: #ccc;font-size:24px;"> --- 本文结束 <i class="iconfont icon-heartbeat" style="font-size:24px;"></i> The End --- </div>
  
  <!--页脚广告-->
  
  <div class="mdui-divider"></div>
  
  <nav>
    
      <a rel="prev" class="post-nav-item mdui-float-left" href="/post/b3c2cc5a.html">
        <i class="iconfont icon-angle-left"></i>
        <span>git报错warning: ignoring broken ref</span>
      </a>
    
    
      <a rel="next" class="post-nav-item mdui-float-right" href="/post/c518d483.html">
        <span>CocosCreator2.4.13修改FPS面板颜色CCProfiler</span>
        <i class="iconfont icon-angle-right"></i>
      </a>
    
  </nav>
</article>




  <div class="toc-button"  style="z-index: 100;">
    <button class="mdui-fab mdui-ripple mdui-color-teal" mdui-menu="{target: '#toc'}"><i class="iconfont icon-list"></i></button>
    <ul class="mdui-menu" id="toc">
      <li class="mdui-menu-item">
        <a href="/post/4223bff8.html" id="toc-header" class="mdui-ripple">文章目录</a>
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83"><span class="toc-number">1.</span> <span class="toc-text">环境</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-number">1.1.</span> <span class="toc-text">安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8CDN-%E6%9C%8D%E5%8A%A1%E6%8F%90%E4%BE%9B%E5%95%86%E6%96%87%E4%BB%B6"><span class="toc-number">1.2.</span> <span class="toc-text">使用CDN 服务提供商文件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95%E4%BE%8B%E5%AD%90"><span class="toc-number">2.</span> <span class="toc-text">测试例子</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#web-%E7%89%88%E6%9C%AC"><span class="toc-number">2.1.</span> <span class="toc-text">web 版本</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-Webpack%E7%BC%96%E8%AF%91Typescript%E4%BE%8B%E5%AD%90"><span class="toc-number">3.</span> <span class="toc-text">使用 Webpack编译Typescript例子</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%AE%89%E8%A3%85-debug-%E5%92%8C%E7%B1%BB%E5%9E%8B%E5%AE%9A%E4%B9%89"><span class="toc-number">3.0.1.</span> <span class="toc-text">1. 安装 debug 和类型定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%9C%A8-TypeScript-%E6%96%87%E4%BB%B6%E4%B8%AD%E5%AF%BC%E5%85%A5%E5%B9%B6%E4%BD%BF%E7%94%A8"><span class="toc-number">3.0.2.</span> <span class="toc-text">2. 在 TypeScript 文件中导入并使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E9%85%8D%E7%BD%AE-TypeScript-%E7%BC%96%E8%AF%91%E5%99%A8"><span class="toc-number">3.0.3.</span> <span class="toc-text">3. 配置 TypeScript 编译器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E4%BD%BF%E7%94%A8-Webpack-%E6%88%96%E5%85%B6%E4%BB%96%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7%E6%89%93%E5%8C%85"><span class="toc-number">3.0.4.</span> <span class="toc-text">4. 使用 Webpack 或其他构建工具打包</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Webpack-%E7%A4%BA%E4%BE%8B%E9%85%8D%E7%BD%AE"><span class="toc-number">3.0.5.</span> <span class="toc-text">Webpack 示例配置</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%9C%A8Cocos-Creator%E9%A1%B9%E7%9B%AE%E4%BD%BF%E7%94%A8"><span class="toc-number">4.</span> <span class="toc-text">如何在Cocos Creator项目使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#CocosCreator%E4%BE%8B%E5%AD%90"><span class="toc-number">4.1.</span> <span class="toc-text">CocosCreator例子</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">5.</span> <span class="toc-text">注意事项</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%AF%E7%94%A8%E8%B0%83%E8%AF%95"><span class="toc-number">5.0.1.</span> <span class="toc-text">启用调试</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%A5%E5%BF%97%E5%B1%95%E7%A4%BA"><span class="toc-number">5.0.2.</span> <span class="toc-text">日志展示</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8B%93%E5%B1%95%E5%8A%9F%E8%83%BD"><span class="toc-number">6.</span> <span class="toc-text">拓展功能</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A2%9E%E5%8A%A0%E5%87%BD%E6%95%B0%E8%BF%90%E8%A1%8C%E6%97%B6%E9%97%B4%E7%9A%84%E8%A3%85%E9%A5%B0%E5%99%A8"><span class="toc-number">6.1.</span> <span class="toc-text">增加函数运行时间的装饰器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8"><span class="toc-number">6.2.</span> <span class="toc-text">如何使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E6%95%88%E6%9E%9C"><span class="toc-number">6.3.</span> <span class="toc-text">显示效果</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81-debug-js"><span class="toc-number">6.4.</span> <span class="toc-text">完整代码 debug.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8E%8B%E7%BC%A9%E5%90%8E%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81-debug-min-js"><span class="toc-number">6.5.</span> <span class="toc-text">压缩后完整代码 debug.min.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A3%B0%E6%98%8E%E6%96%87%E4%BB%B6"><span class="toc-number">6.6.</span> <span class="toc-text">声明文件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">7.</span> <span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5"><span class="toc-number">8.</span> <span class="toc-text">参考链接</span></a></li></ol>
      </li>
    </ul>
  </div>



  </main>
  <footer id="footer" class="mdui-text-center mdui-m-t-5 mdui-p-b-2 mdui-p-t-4 mdui-color-theme">
  <div class="mdui-container">
    <div class="mdui-row">
      
        <a href="https://beian.miit.gov.cn" rel="noopener" target="_blank"></a>
      
      <span>
        &copy; 2018 - 2025 
        
          <span style="color:#d9333f" class="iconfont icon-heart"></span>
        
        asroads
      </span>
    </div>
    <div class="mdui-row">
      
        <div class="mdui-col-xs-6 mdui-text-right">
          <span>Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a></span>
        </div>
        <div class="mdui-col-xs-6 mdui-text-left">
          <span>Theme: <a href="https://github.com/kb1000fx/Meadow" rel="noopener" target="_blank">Meadow</a></span>
        </div>
      
    </div>
    <div class="mdui-row">
      
        <div class="mdui-col-xs-6 mdui-text-right">
          <span id="busuanzi_container_site_uv" style="display: none;"> <span class="iconfont icon-user"></span>总访客量 <span id="busuanzi_value_site_uv"></span></span>
        </div>
        <div class="mdui-col-xs-6 mdui-text-left">
          <span id="busuanzi_container_site_pv" style="display: none;"> <span class="iconfont icon-eye"></span>总访问量 <span id="busuanzi_value_site_pv"></span></span>
        </div>
      
    </div>
 </div>
</footer>
  
  <button id="gotop" class="mdui-fab mdui-fab-fixed mdui-fab-hide mdui-ripple mdui-color-teal" style="z-index:100;"><i class="iconfont icon-arrowup"></i></button>
  
  

    <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




    <script src="https://cdn.jsdelivr.net/npm/mermaid@8.4.8/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({
        startOnLoad: true,
        theme: "default"
    });</script>




    
<script src="/js/mdui.min.v1.0.0.js"></script>




<script src="/js/meadow.js"></script>

</body>
</html >